import{F as S,o as q,g as E,G as L,u as O,H as g,q as w,I as m,J as v,K as p,M as x,O as B,P as M}from"./BS49irhG.js";function D(r){let t=0,n=L(0),a;return()=>{S()&&(q(n),E(()=>(t===0&&(a=O(()=>r(()=>g(n)))),t+=1,()=>{w(()=>{t-=1,t===0&&(a?.(),a=void 0,g(n))})})))}}const F=new Set,G=new Set;function P(r,t,n,a={}){function i(e){if(a.capture||T.call(t,e),!e.cancelBubble)return M(()=>n?.call(this,e))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?w(()=>{t.addEventListener(r,i,a)}):t.addEventListener(r,i,a),i}function H(r,t,n,a={}){var i=P(t,r,n,a);return()=>{r.removeEventListener(t,i,a)}}let b=null;function T(r){var t=this,n=t.ownerDocument,a=r.type,i=r.composedPath?.()||[],e=i[0]||r.target;b=r;var o=0,f=b===r&&r.__root;if(f){var u=i.indexOf(f);if(u!==-1&&(t===document||t===window)){r.__root=t;return}var _=i.indexOf(t);if(_===-1)return;u<=_&&(o=u)}if(e=i[o]||r.target,e!==t){m(r,"currentTarget",{configurable:!0,get(){return e||n}});var k=x,y=B;v(null),p(null);try{for(var c,d=[];e!==null;){var l=e.assignedSlot||e.parentNode||e.host||null;try{var h=e["__"+a];h!=null&&(!e.disabled||r.target===e)&&h.call(e,r)}catch(s){c?d.push(s):c=s}if(r.cancelBubble||l===t||l===null)break;e=l}if(c){for(let s of d)queueMicrotask(()=>{throw s});throw c}}finally{r.__root=t,delete r.currentTarget,v(k),p(y)}}}export{F as a,D as c,T as h,H as o,G as r};
